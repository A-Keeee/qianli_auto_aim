# 研发日志

## 2024.9.12
1. 已完成第一版的研发，但由于缺少装甲板，无法在实车上试验，但是在单装甲板上测试，在装甲板上的测试结果还行，项目暂时只能缓慢推进
2. 发现选板逻辑不正确，对于pnp处理的yaw值与实际车的yaw值关系不正确，需要更精确的yaw值计算方法

## 2024.9.26 17：23
1. 开始研究上交开源，对于yaw值计算的方法有了更多的想法，不过上交的代码庞大，计算复杂，仍在研究中
2. 思考yaw值计算方法
3. 需要一个同时保存所有装甲板的类来更好的管理整车运动

## 2024.9.27
1. 梳理清楚了如何进行yaw值投影计算，看懂了部分上交开源，学习到了三分法求极值的方法，开始进行代码转换

## 2024.9.28
1. 整理思路，写好了大部分代码，编译通过，但是还没有进行验证测试

## 2024.9.29
1. 测试代码，解决了n多问题，再一次对坐标系的变换进行了思考和修正，成功得到了一个投影yaw值
### 问题：
1. 仍有一定的跳动
2. 对于装甲板倾斜角要求高，因为是通过15度来计算的，所以如果装甲板倾斜角不是15度会导致一定的拟合失效或不准确
3. 似乎yaw值的0度角不正确，还需要进一步验证yaw值的计算准确度
### NEXT：
1. 继续yaw值计算的优化
2. 多装甲板处理设计
3. 弹道闭环的思考

## 2024.10.1
### 思考
1. 帧对帧处理，相机帧与发射帧考虑，对时间戳进行优化
2. 四装甲板描绘思考确定

## 2024.10.2
1. 开始编写弹道闭环代码，开发功能包closed_loop
### 发现的问题
1. 是否因为我们求相机坐标系到装甲板坐标系是pitch转动为yaw（而不是yaw为yaw），所以我们在tracker中也应该将pitch赋值给yaw，而不是yaw给yaw

## 2024.10.3-2024.10.8
1.写完了绘制全车装甲板的代码，但测试能有一定的问题，对于处理完后的odom坐标还无法正确投影回像素坐标，估计原因为yaw值的计算方法和坐标系转换关系之间的不正确导致，正在测试检测